---
title: "ffmpeg 將影片轉成 gif"
date: "2025-02-25T18:10:58+08:00"
tags: ["ffmpeg", "gif",]
author: "holla"
slug: "ffmpeg-gif"
draft: false
---
### 用 FFmpeg 做 GIF：從簡單搞到高級上

終於開 Blog 了，總得寫點什麼吧！最近玩了 FFmpeg，把影片變 GIF，發現還挺好玩的。從簡單到高級用法我都試了，乾脆分享出來，給自己一點成就感（~~拖延症終於有點成果~~）

---

#### 隨便搞個 GIF：簡單快狠
想隨手做個 GIF 傳給朋友炫耀一下？超簡單，用這招就行：（只是範例，根據個人需要再調整）

```bash
ffmpeg -ss 30 -t 3 -i input.mp4 \
    -vf "fps=10,scale=320:-1" \
    -loop 0 output.gif
```

<!--more-->

##### 啥意思？
- `-ss 30`: 跳過前 30 秒（~~誰要看開頭廢話啊~~）
- `-t 3`: 剪 3 秒出來，夠短才好玩
- `fps=10`: 一秒 10 張畫面，差不多啦
- `scale=320:-1`: 寬度壓成 320，高度它會自己算（~~懶人福音~~）
- `-loop 0`: 一直循環，-1 是不動，1 是播兩次，隨你挑

##### 效果咧？
速度快，檔案小，但畫質嘛…有時候會有點色塊，像是復古風（~~硬要說好聽~~）。夠用就好啦，想更糊就改 `fps=5` 或 `scale=160:-1`，~~再糊就看不到是什麼啦~~

---

#### 高級版 GIF：我要畫質！
好啦，如果跟我一樣有點強迫症，想要 GIF 又清楚又漂亮，那就得加點料：

```bash
ffmpeg -ss 30 -t 3 -i input.mp4 \
    -vf "fps=10,scale=320:-1:flags=lanczos,split[s0][s1];[s0]palettegen[p];[s1][p]paletteuse" \
    -loop 0 output.gif
```

##### 這堆啥啊？
- `-ss 30` 和 `-t 3`: 跟上面一樣，剪 3 秒。
- `fps=10`: 還是 10 幀，流暢就好。
- `scale=320:-1:flags=lanczos`: 用高級算法縮放，看起來比較順眼。
- 那堆 `split`、`palettegen`、`paletteuse`: 簡單說就是弄個專屬調色盤，顏色不會亂七八糟。
- `-loop 0`: 一直播，爽！

##### 有啥不一樣？
畫面清楚，顏色漂亮，像精心剪輯的那種（~~適合拿去裝專業~~）。檔案會大一點，跑起來也慢一點，但值得啦！

##### 進階小撇步
- 想每幀都完美？加 `palettegen=stats_mode=single & paletteuse=new=1`。
- 顏色抖動怪怪的？試試 `dither=bayer` 或 `dither=none`，看哪個順眼。

---

#### 結論：
- **隨手版**: 快、簡單，適合懶人（~~比如我~~）。
- **高級版**: 費點心，但成果超有面子。

FFmpeg 真的挺好玩的，能搞定需求就夠了。想學更多可以去翻翻 [FFmpeg 官網](https://ffmpeg.org)，或者等我之後再寫（~~如果沒拖延的話~~）