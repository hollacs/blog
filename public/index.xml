<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>holla blog...</title>
    <link>http://localhost:1313/</link>
    <description>Recent content on holla blog...</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 25 Feb 2025 18:10:58 +0800</lastBuildDate>
    <atom:link href="http://localhost:1313/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>ffmpeg 將影片轉成 gif</title>
      <link>http://localhost:1313/posts/ffmpeg_gif/</link>
      <pubDate>Tue, 25 Feb 2025 18:10:58 +0800</pubDate>
      <guid>http://localhost:1313/posts/ffmpeg_gif/</guid>
      <description>&lt;h1 id=&#34;如何用-ffmpeg-將影片轉成-gif從低品質到高品質&#34;&gt;如何用 FFmpeg 將影片轉成 GIF：從低品質到高品質&lt;/h1&gt;&#xA;&lt;p&gt;這個要說的東西有點多，所以我覺得可以獨立出一篇。 &lt;br&gt;&#xA;本文將介紹快速將影片製作成低品質 gif 的方法，再說明如何提升品質。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;低品質-gif簡單快速&#34;&gt;低品質 GIF：簡單快速&lt;/h2&gt;&#xA;&lt;p&gt;如果只是想快速生成 GIF，不在意細節，可以用以下指令：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ffmpeg -ss &lt;span style=&#34;color:#ae81ff&#34;&gt;30&lt;/span&gt; -t &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; -i input.mp4 &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;    -vf &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fps=10,scale=320:-1&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;    -loop &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; output.gif&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;指令解析&#34;&gt;指令解析&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;-ss 30&lt;/code&gt;: 跳過影片前 30 秒&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;-t 3&lt;/code&gt;: 擷取 3 秒內容&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;fps=10&lt;/code&gt;: 每秒 10 幀，畫面流暢度普通&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;scale=320:-1&lt;/code&gt;: 寬度縮到 320 像素，高度自動調整&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;-loop 0&lt;/code&gt;: 無限循環（-1 不循環，1 循環一次播放兩次）&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;效果與用途&#34;&gt;效果與用途&lt;/h3&gt;&#xA;&lt;p&gt;這種方法省略了複雜的優化，檔案小、生成快，但顏色可能失真（出現色塊或條紋），適合隨手分享或測試用。如果想更低品質，可以試試 fps=5 或 scale=160:-1，進一步壓縮大小。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;高品質-gif畫面更精緻&#34;&gt;高品質 GIF：畫面更精緻&lt;/h2&gt;&#xA;&lt;p&gt;若追求清晰畫質和豐富色彩，可以加入調色盤生成和優化濾鏡，試試這個指令：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ffmpeg -ss &lt;span style=&#34;color:#ae81ff&#34;&gt;30&lt;/span&gt; -t &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; -i input.mp4 &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;    -vf &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fps=10,scale=320:-1:flags=lanczos,split[s0][s1];[s0]palettegen[p];[s1][p]paletteuse&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;    -loop &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; output.gif&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;指令解析-1&#34;&gt;指令解析&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;scale=320:-1:flags=lanczos&lt;/code&gt;: 用高品質 lanczos 演算法縮放到 320 像素寬&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;split[s0][s1];[s0]palettegen[p];[s1][p]paletteuse&lt;/code&gt;: 分流處理，先從影片生成調色盤（&lt;a href=&#34;https://ffmpeg.org/ffmpeg-filters.html#palettegen&#34;&gt;palettegen&lt;/a&gt;），再應用到輸出（&lt;a href=&#34;https://ffmpeg.org/ffmpeg-filters.html#paletteuse&#34;&gt;paletteuse&lt;/a&gt;），提升色彩準確度&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;進階調整&#34;&gt;進階調整&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;stats_mode&lt;/code&gt;: 控制調色盤生成方式，&lt;code&gt;full&lt;/code&gt;（預設，整體畫面）、&lt;code&gt;diff&lt;/code&gt;（僅移動部分）或 &lt;code&gt;single&lt;/code&gt;（每幀獨立）。例如：&lt;code&gt;palettegen=stats_mode=single &amp;amp; paletteuse=new=1&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;dither&lt;/code&gt;: 選擇抖動演算法，&lt;code&gt;bayer&lt;/code&gt;（確定性）、錯誤擴散（如預設 &lt;code&gt;sierra2_4a&lt;/code&gt;）或 &lt;code&gt;none&lt;/code&gt;（無抖動）。用 &lt;code&gt;bayer&lt;/code&gt; 時可搭配 &lt;code&gt;bayer_scale&lt;/code&gt; 測試效果。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;效果與用途-1&#34;&gt;效果與用途&lt;/h3&gt;&#xA;&lt;p&gt;這種方法生成的 GIF 畫質細膩，色彩自然，適合展示需要高視覺效果的場合。當然，檔案會稍大，處理時間也較長。&lt;/p&gt;</description>
    </item>
    <item>
      <title>ffmpeg 常用指令筆記</title>
      <link>http://localhost:1313/posts/ffmpeg/</link>
      <pubDate>Thu, 20 Feb 2025 15:59:48 +0800</pubDate>
      <guid>http://localhost:1313/posts/ffmpeg/</guid>
      <description>&lt;h2 id=&#34;影片加速&#34;&gt;影片加速&lt;/h2&gt;&#xA;&lt;p&gt;以下指令將影片加速 60 倍 (加入 -an 移除聲音)&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ffmpeg -i input.mp4 -filter:v &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;setpts=PTS/60&amp;#34;&lt;/span&gt; out.mp4&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;&#xA;&lt;h2 id=&#34;移除重覆或相似的-frame&#34;&gt;移除重覆或相似的 frame&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ffmpeg -i input.mp4 -vf mpdecimate,setpts&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;N/FRAME_RATE/TB out.mp4&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;&#xA;&lt;h2 id=&#34;1080p-to-720p&#34;&gt;1080p to 720p&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ffmpeg -i input.mp4 -vf scale&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;-1:720 -c:v libx264 -crf &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; -preset veryslow -c:a copy out.mp4&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;-vf scale=-1:720&lt;/code&gt; 調整影片解析度&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;-1&lt;/code&gt; 表示在維持影片的寬高比的情況下，自動計算寬度&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;720&lt;/code&gt; 是指定高度&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;-crf&lt;/code&gt; 是畫質設定 (越低保留越多細節)&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;-preset&lt;/code&gt; 控制編碼過程的速度和最終壓縮效率&#xA;&lt;ul&gt;&#xA;&lt;li&gt;ultrafast, superfast, veryfast, faster, fast, medium, slow, veryslow, placebo&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;-c:a copy&lt;/code&gt; 直接複製音軌&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;想到再加。&lt;/p&gt;</description>
    </item>
    <item>
      <title>我的第一篇文章</title>
      <link>http://localhost:1313/posts/first_post/</link>
      <pubDate>Mon, 10 Feb 2025 06:58:01 +0800</pubDate>
      <guid>http://localhost:1313/posts/first_post/</guid>
      <description>&lt;p&gt;一直想寫的 Blog，今天終於實現了！ (&lt;del&gt;拖了很久&lt;/del&gt;)&lt;/p&gt;&#xA;&lt;p&gt;第一篇不知道該寫什麼，那就先自我慶祝一下我的新 Blog 開張吧！XD&lt;/p&gt;&#xA;&lt;p&gt;未來我會寫更多文章，希望一切順利～&lt;/p&gt;&#xA;&lt;p&gt;先這樣。 (&lt;del&gt;筆墨暫時用完了&lt;/del&gt;)&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
